(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{305:function(e,t,a){},307:function(e,t,a){},500:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(39),l=a.n(r),o=(a(305),a(68)),u=a.n(o),s=a(151),i=a(40),d=(a(307),a(4)),p=a(206),m=a.n(p),O=a(287),f=a.n(O),b=a(29),E=a(293),v=a.n(E),T=a(152),h=function(e){var t=e.issueList,a=e.setAddIssueOpen,r=e.setAddOrUpdate,l=e.setEditInitVals,o=e.deleteIssue,u=t.sort((function(e,t){return e.ACCOUNTNO-t.ACCOUNTNO})).map((function(e,t){var a=e.RECORDNO,n=e.ACCOUNTNO,r=e.TITLE,l=e.ACCOUNTTYPE,o=e.NORMALBALANCE;return c.a.createElement(b.FlatTableRow,{key:t},c.a.createElement(b.FlatTableCell,null,n),c.a.createElement(b.FlatTableCell,null,r),c.a.createElement(b.FlatTableCell,null,l),c.a.createElement(b.FlatTableCell,null,o),c.a.createElement(b.FlatTableCell,null,c.a.createElement(T.ActionPopover,null,c.a.createElement(T.ActionPopoverItem,{icon:"edit",onClick:function(){return s(a,n,r,l,o)}},"Edit"),c.a.createElement(T.ActionPopoverItem,{icon:"delete",onClick:function(){return d(n)}},"Delete"))))})),s=function(e,t,n,c,o){r("Update"),l({recordNo:e,accountNo:t,title:n,accountType:c,normalBalance:o}),a(!0)},d=function(e){o(e)},p=Object(n.useState)({start:0,end:10}),m=Object(i.a)(p,2),O=m[0],f=m[1],E=Object(n.useState)(1),h=Object(i.a)(E,2),g=h[0],y=h[1];return c.a.createElement("div",{id:"issue-list"},c.a.createElement(b.FlatTable,{isZebra:!0,hasStickyHead:!0,hasStickyFooter:!0,footer:c.a.createElement(v.a,{totalRecords:u.length,showPageSizeSelection:!0,pageSize:10,currentPage:g,onPagination:function(e,t){return function(e,t){var a=(e-1)*t;f({start:a,end:a+t}),y(e)}(e,t)},pageSizeSelectionOptions:[{id:"10",name:10},{id:"25",name:25}]})},c.a.createElement(b.FlatTableHead,null,c.a.createElement(b.FlatTableRow,null,c.a.createElement(b.FlatTableHeader,null,"Account Number"),c.a.createElement(b.FlatTableHeader,null,"Title"),c.a.createElement(b.FlatTableHeader,null,"Account Type"),c.a.createElement(b.FlatTableHeader,null,"Normal Balance"),c.a.createElement(b.FlatTableHeader,null))),c.a.createElement(b.FlatTableBody,null,function(){var e=O.start,t=O.end;return e<0?u:t>u.length?u.slice(e,u.length):u.slice(e,t)}())))},g=a(294),y=a.n(g),j=a(59),A=a.n(j),I=a(210),N=function(e){var t=e.addIssueOpen,a=e.setAddIssueOpen,n=e.setAddOrUpdate,r=e.setEditInitVals;return c.a.createElement(y.a,{id:"nav-bar",navigationType:"dark"},c.a.createElement(A.a,{display:"flex",flex:"1",margin:"0 auto"},c.a.createElement(I.Menu,{menuType:"dark",display:"flex",flex:"1"},c.a.createElement(A.a,{height:"",flex:"1"},"General Ledger"),c.a.createElement(I.MenuItem,{icon:"add",onClick:function(){a(!t),r({recordNo:"",accountNo:"",title:"",accountType:"",normalBalance:""}),n("Add")}},"Add Account"))))},x=a(61),S=a(295),C=a.n(S),F=a(296),U=a.n(F),k=a(111),w=a.n(k),V=a(149),B=a(141),P=a.n(B),L=function(e){var t=e.text,a=e.fieldKey,n=e.required,r=e.editInitVals,l=e.setEditInitVals,o=e.addOrUpdate;return c.a.createElement(P.a,{size:"small",required:n,label:t,readOnly:"Update"==o&&"accountNo"==a,value:r[a],onChange:function(e){return l(Object(x.a)(Object(x.a)({},r),{},Object(V.a)({},a,e.target.value)))}})},R=a(69),D=function(e){var t=e.addIssueOpen,a=e.setAddIssueOpen,r=e.addIssue,l=e.addOrUpdate,o=e.editInitVals,u=e.setEditInitVals;Object(n.useEffect)((function(){return m(0),function(){}}),[t]);var s=Object(n.useState)(0),d=Object(i.a)(s,2),p=d[0],m=d[1];return c.a.createElement(U.a,{open:t,title:l+" GL Account",subtitle:"Please enter GL account details"},c.a.createElement(C.a,{stickyFooter:!0,onSubmit:function(e){return e.preventDefault(),m(0),""===o.title&&(""===o.accountNo||o.accountNo.length<5)?m(2):""===o.title||""===o.accountNo||o.accountNo.length<5?m(1):(m(0),r(),void a(!1))},leftSideButtons:c.a.createElement(w.a,{onClick:function(){return a(!t)}},"Cancel"),saveButton:c.a.createElement(w.a,{buttonType:"primary",type:"submit"},"Save"),fieldSpacing:2,errorCount:p},c.a.createElement(L,{text:"Account No (minimum 5 characters)",fieldKey:"accountNo",required:"true",editInitVals:o,setEditInitVals:u,addOrUpdate:l}),c.a.createElement(L,{text:"Title",fieldKey:"title",required:"true",editInitVals:o,setEditInitVals:u,addOrUpdate:l}),c.a.createElement(R.Select,{label:"Account Type",onChange:function(e){return u(Object(x.a)(Object(x.a)({},o),{},{accountType:e.target.value}))},value:o.accountType},c.a.createElement(R.Option,{text:"balancesheet",value:"balancesheet"}),c.a.createElement(R.Option,{text:"incomestatement",value:"incomestatement"})),c.a.createElement(R.Select,{label:"Normal Balance",onChange:function(e){return u(Object(x.a)(Object(x.a)({},o),{},{normalBalance:e.target.value}))},value:o.normalBalance},c.a.createElement(R.Option,{text:"debit",value:"debit"}),c.a.createElement(R.Option,{text:"credit",value:"credit"}))))},H=a(297),M=a.n(H),q=function(e){var t=e.toastMessage,a=e.toastOpen,n=e.setToastOpen,r=e.toastVariant;return c.a.createElement("div",null,c.a.createElement(M.a,{variant:r,open:a,onDismiss:function(e){n(!1)},timeout:2e3},t))};var z=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),p=o[0],O=o[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),v=E[0],T=E[1],g=Object(n.useState)("success"),y=Object(i.a)(g,2),j=y[0],A=y[1],I=Object(n.useState)(""),x=Object(i.a)(I,2),S=x[0],C=x[1],F=Object(n.useState)("add"),U=Object(i.a)(F,2),k=U[0],w=U[1],V=Object(n.useState)({recordNo:"",accountNo:"",title:"",accountType:"",normalBalance:""}),B=Object(i.a)(V,2),P=B[0],L=B[1];Object(n.useEffect)((function(){return R(),function(){console.log("loaded")}}),[]);var R=function(){var e=Object(s.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/general");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("accountNo",P.accountNo),t.append("title",P.title),t.append("accountType",P.accountType),t.append("normalBalance",P.normalBalance),"Update"===k&&t.append("recordNo",P.recordNo),a=new URLSearchParams(t),n="Add"===k?"POST":"PUT",e.prev=8,e.next=11,fetch("/api/general/add",{method:n,body:a});case 11:return c=e.sent,console.log(c),e.next=15,c.text();case 15:if("ERROR"!=(r=e.sent)){e.next=18;break}throw console.error("Fail");case 18:return console.log(r),e.next=21,R();case 21:A("success"),C("Add"===k?"Account created successfully":"Account updated successfully"),T(!0),e.next=32;break;case 26:e.prev=26,e.t0=e.catch(8),A("error"),C("Account creation failed, account already exists"),T(!0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[8,26]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("accountNo",t),n=new URLSearchParams(a),e.next=5,fetch("/api/general/delete",{method:"DELETE",body:n});case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,console.log(r),e.next=12,R();case 12:A("success"),C("Account deleted successfully"),T(!0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(d.ThemeProvider,{theme:m.a},c.a.createElement(f.a,null,c.a.createElement(N,{addIssueOpen:p,setAddIssueOpen:O,setAddOrUpdate:w,setEditInitVals:L}),c.a.createElement(h,{issueList:a,setAddIssueOpen:O,setAddOrUpdate:w,setEditInitVals:L,deleteIssue:M}),c.a.createElement(D,{addIssueOpen:p,setAddIssueOpen:O,addIssue:H,addOrUpdate:k,editInitVals:P,setEditInitVals:L}),c.a.createElement(q,{toastMessage:S,toastOpen:v,setToastOpen:T,toastVariant:j})))},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,504)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null)),document.getElementById("root")),G()}},[[500,1,2]]]);
//# sourceMappingURL=main.e1b4a0ae.chunk.js.map